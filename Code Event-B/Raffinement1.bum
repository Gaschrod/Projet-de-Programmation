<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.machineFile org.eventb.core.configuration="org.eventb.core.fwd" org.eventb.core.generated="false" org.eventb.texttools.text_lastmodified="1682282336499" org.eventb.texttools.text_representation="machine 1er_raffinement refines InitialeMachine  sees Train Station&#10;&#10;variables NW_to_NE // Has 1 secondary&#10;          NW_to_center // Has 1 secondary&#10;          NW_to_SW // Has 1 secondary&#10;          SW_to_transit // /&#10;          SW_to_S // Has 1 secondary&#10;          center_to_NE // Has 1 secondary&#10;          transit_to_center // /&#10;          S_to_SE // Has 1 secondary&#10;          center_to_S // Has 1 secondary&#10;          transit_to_S // /&#10;          NE_to_S // Has 1 secondary&#10;          station_occupancy number_train secondary_occupancy Traffic_light_station rail&#10;&#10;invariants&#10;  @inv1 rail ∈ (1‥11) → railway&#10;  @inv2 Traffic_light_station ∈ (1‥31)→trafficlight&#10;&#10;events&#10;  event INITIALISATION extends INITIALISATION&#10;    then&#10;      @act34 rail ≔ {i·i ∈ 1‥11 ∣ i↦ NOTRAIN}&#10;      @act35 Traffic_light_station ≔ {i·i ∈ 1‥31 ∣ i↦green }&#10;  end&#10;&#10;  event spawn_train extends spawn_train&#10;  end&#10;&#10;  event NW_to_SW_railway extends NW_to_SW_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(11) = green ∧ (NW_to_SW = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(11) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act5 rail ≔ {i·i∈1‥6∣i↦rail(i)}∪{7↦BUSY}∪{i·i ∈ 8‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {11 ↦ light_color, 30 ↦ light_color}&#10;  end&#10;&#10;  event SW_to_NW_railway extends SW_to_NW_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(30) = green ∧ (NW_to_SW = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(30) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥6∣i↦rail(i)}∪{7↦BUSY}∪{i·i ∈ 8‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {11 ↦ light_color, 30 ↦ light_color}&#10;  end&#10;&#10;  event NW_to_NE_railway extends NW_to_NE_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(9) = green ∧ (NW_to_NE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(9) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {1↦BUSY}∪{i·i ∈ 2‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {9 ↦ light_color, 17 ↦ light_color}&#10;  end&#10;&#10;  event NE_to_NW_railway extends NE_to_NW_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(17) = green ∧ (NW_to_NE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(17) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {1↦BUSY}∪{i·i ∈ 2‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {9 ↦ light_color, 17 ↦ light_color}&#10;  end&#10;&#10;  event NW_to_center_railway extends NW_to_center_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(10) = green ∧ (NW_to_center = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(10) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {1↦rail(1)}∪{2↦BUSY}∪{i·i ∈3‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {10 ↦ light_color, 13 ↦ light_color}&#10;  end&#10;&#10;  event center_to_NW_railway extends center_to_NW_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(13) = green ∧ (NW_to_center = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(13) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {1↦rail(1)}∪{2↦BUSY}∪{i·i ∈3‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {10 ↦ light_color, 13 ↦ light_color}&#10;  end&#10;&#10;  event SW_to_transit_railway extends SW_to_transit_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(28) = green ∧ (SW_to_transit = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(28) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥8∣i↦rail(i)}∪{9↦BUSY}∪{i·i ∈ 10‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {28 ↦ light_color, 29 ↦ light_color}&#10;  end&#10;&#10;  event transit_to_SW_railway extends transit_to_SW_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(29) = green ∧ (SW_to_transit = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(29) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥8∣i↦rail(i)}∪{9↦BUSY}∪{i·i ∈ 10‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {28 ↦ light_color, 29 ↦ light_color}&#10;  end&#10;&#10;  event transit_to_center_railway extends transit_to_center_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(14) = green ∧ (transit_to_center = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(14) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥9∣i↦rail(i)}∪{10↦BUSY}∪{11↦rail(11)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {14 ↦ light_color, 26 ↦ light_color}&#10;  end&#10;&#10;  event center_to_transit_railway extends center_to_transit_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(26) = green ∧ (transit_to_center = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(26) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥9∣i↦rail(i)}∪{10↦BUSY}∪{11↦rail(11)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {14 ↦ light_color, 26 ↦ light_color}&#10;  end&#10;&#10;  event center_to_NE_railway extends center_to_NE_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(16) = green ∧ (center_to_NE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(16) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥2∣i↦rail(i)}∪{3↦BUSY}∪{i·i ∈ 4‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {16 ↦ light_color, 18 ↦ light_color}&#10;  end&#10;&#10;  event NE_to_center_railway extends NE_to_center_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(18) = green ∧ (center_to_NE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(18) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥2∣i↦rail(i)}∪{3↦BUSY}∪{i·i ∈ 4‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {16 ↦ light_color, 18 ↦ light_color}&#10;  end&#10;&#10;  event NE_to_S_railway extends NE_to_S_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(19) = green ∧ (NE_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(19) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥3∣i↦rail(i)}∪{4↦BUSY}∪{i·i ∈ 5‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {19 ↦ light_color, 20 ↦ light_color}&#10;  end&#10;&#10;  event S_to_NE_railway extends S_to_NE_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(20) = green ∧ (NE_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(20) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥3∣i↦rail(i)}∪{4↦BUSY}∪{i·i ∈ 5‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {19 ↦ light_color, 20 ↦ light_color}&#10;  end&#10;&#10;  event S_to_SE_railway extends S_to_SE_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(24) = green ∧ (S_to_SE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(24) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥4∣i↦rail(i)}∪{5↦BUSY}∪{i·i ∈ 6‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {24 ↦ light_color, 25 ↦ light_color}&#10;  end&#10;&#10;  event SE_to_S_railway extends SE_to_S_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(25) = green ∧ (S_to_SE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(25) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥4∣i↦rail(i)}∪{5↦BUSY}∪{i·i ∈ 6‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {24 ↦ light_color, 25 ↦ light_color}&#10;  end&#10;&#10;  event center_to_S_railway extends center_to_S_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(15) = green ∧ (center_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(15) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥7∣i↦rail(i)}∪{8↦BUSY}∪{i·i ∈ 9‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {15 ↦ light_color, 21 ↦ light_color}&#10;  end&#10;&#10;  event S_to_center_railway extends S_to_center_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(21) = green ∧ (center_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(21) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥7∣i↦rail(i)}∪{8↦BUSY}∪{i·i ∈ 9‥11 ∣ i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {15 ↦ light_color, 21 ↦ light_color}&#10;  end&#10;&#10;  event transit_to_S_railway extends transit_to_S_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(27) = green ∧ (transit_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(27) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥10∣i↦rail(i)}∪{11↦BUSY}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {22 ↦ light_color, 27 ↦ light_color}&#10;  end&#10;&#10;  event S_to_transit_railway extends S_to_transit_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(22) = green ∧ (transit_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(22) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥10∣i↦rail(i)}∪{11↦BUSY}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {22 ↦ light_color, 27 ↦ light_color}&#10;  end&#10;&#10;  event SW_to_S_railway extends SW_to_S_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(31) = green ∧ (SW_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(31) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥5∣i↦rail(i)}∪{6↦BUSY}∪{i·i∈7‥11∣i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {23 ↦ light_color, 31 ↦ light_color}&#10;  end&#10;&#10;  event S_to_SW_railway extends S_to_SW_railway&#10;    any light_color // Must not be used by the user&#10;&#10;    where&#10;      @grd8 (Traffic_light_station(23) = green ∧ (SW_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red&#10;      @grd9 Traffic_light_station(23) = red ⇒ light_color = red // In case the driver doesn't respect traffic lights&#10;    then&#10;      @act3 rail ≔ {i·i∈1‥5∣i↦rail(i)}∪{6↦BUSY}∪{i·i∈7‥11∣i↦rail(i)}&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {23 ↦ light_color, 31 ↦ light_color}&#10;  end&#10;&#10;  event avance_S_to_NE extends avance_S_to_NE&#10;    any rail_value light_color&#10;    where&#10;      @grd8 NE_to_S(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 NE_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 NE_to_S(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;    then&#10;      @act4 rail(4) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {19 ↦ light_color, 20 ↦ light_color}&#10;  end&#10;&#10;  event avance_S_to_SE extends avance_S_to_SE&#10;    any rail_value light_color&#10;    where&#10;      @grd8 S_to_SE(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd9 S_to_SE(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 S_to_SE(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;    then&#10;      @act4 rail(5) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {24 ↦ light_color, 25 ↦ light_color}&#10;  end&#10;&#10;  event avance_SE_to_S extends avance_SE_to_S&#10;    any rail_value light_color&#10;    where&#10;      @grd8 S_to_SE(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 S_to_SE(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 S_to_SE(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;    then&#10;      @act4 rail(5) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {24 ↦ light_color, 25 ↦ light_color}&#10;  end&#10;&#10;  event avance_NW_to_SW extends avance_NW_to_SW&#10;    any rail_value light_color&#10;    where&#10;      @grd8 NW_to_SW(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd9 NW_to_SW(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 NW_to_SW(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;    then&#10;      @act4 rail(7) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {11 ↦ light_color, 30 ↦ light_color}&#10;  end&#10;&#10;  event avance_SW_to_NW extends avance_SW_to_NW&#10;    any rail_value light_color&#10;    where&#10;      @grd9 NW_to_SW(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd10 NW_to_SW(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd11 NW_to_SW(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;    then&#10;      @act4 rail(7) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {11 ↦ light_color, 30 ↦ light_color}&#10;  end&#10;&#10;  event avance_SW_to_transit extends avance_SW_to_transit&#10;    any rail_value light_color&#10;    where&#10;      @grd8 SW_to_transit(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd9 SW_to_transit(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 SW_to_transit(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;    then&#10;      @act4 rail(9) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {28 ↦ light_color, 29 ↦ light_color}&#10;  end&#10;&#10;  event avance_transit_to_SW extends avance_transit_to_SW&#10;    any rail_value light_color&#10;    where&#10;      @grd8 SW_to_transit(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 SW_to_transit(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 SW_to_transit(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;    then&#10;      @act4 rail(9) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {28 ↦ light_color, 29 ↦ light_color}&#10;  end&#10;&#10;  event avance_SW_to_S extends avance_SW_to_S&#10;    any rail_value light_color&#10;    where&#10;      @grd8 SW_to_S(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd9 SW_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 SW_to_S(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;    then&#10;      @act4 rail(6) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {23 ↦ light_color, 31 ↦ light_color}&#10;  end&#10;&#10;  event avance_S_to_SW extends avance_S_to_SW&#10;    any rail_value light_color&#10;    where&#10;      @grd8 SW_to_S(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 SW_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 SW_to_S(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;    then&#10;      @act4 rail(6) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {23 ↦ light_color, 31 ↦ light_color}&#10;  end&#10;&#10;  event avance_NW_to_center extends avance_NW_to_center&#10;    any rail_value light_color&#10;    where&#10;      @grd8 NW_to_center(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd9 NW_to_center(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 NW_to_center(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;    then&#10;      @act4 rail(2) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {10 ↦ light_color, 13 ↦ light_color}&#10;  end&#10;&#10;  event avance_center_to_NW extends avance_center_to_NW&#10;    any rail_value light_color&#10;    where&#10;      @grd8 NW_to_center(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 NW_to_center(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 NW_to_center(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;    then&#10;      @act4 rail(2) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {10 ↦ light_color, 13 ↦ light_color}&#10;  end&#10;&#10;  event avance_NW_to_NE extends avance_NW_to_NE&#10;    any rail_value light_color&#10;    where&#10;      @grd8 NW_to_NE(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd9 NW_to_NE(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 NW_to_NE(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;    then&#10;      @act4 rail(1) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {9 ↦ light_color, 17 ↦ light_color}&#10;  end&#10;&#10;  event avance_NE_to_NW extends avance_NE_to_NW&#10;    any rail_value light_color&#10;    where&#10;      @grd8 NW_to_NE(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 NW_to_NE(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 NW_to_NE(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;    then&#10;      @act4 rail(1) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {9 ↦ light_color, 17 ↦ light_color}&#10;  end&#10;&#10;  event avance_center_to_NE extends avance_center_to_NE&#10;    any rail_value light_color&#10;    where&#10;      @grd8 NW_to_center(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd9 NW_to_center(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 NW_to_center(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green) //The train will get out of the railway&#10;    then&#10;      @act4 rail(3) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {16 ↦ light_color, 18 ↦ light_color}&#10;  end&#10;&#10;  event avance_NE_to_center extends avance_NE_to_center&#10;    any rail_value light_color&#10;    where&#10;      @grd8 center_to_NE(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 center_to_NE(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 center_to_NE(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;    then&#10;      @act4 rail(3) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {16 ↦ light_color, 18 ↦ light_color}&#10;  end&#10;&#10;  event avance_transit_to_center extends avance_transit_to_center&#10;    any rail_value light_color&#10;    where&#10;      @grd8 transit_to_center(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd9 transit_to_center(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 transit_to_center(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;    then&#10;      @act4 rail(10) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {14 ↦ light_color, 26 ↦ light_color}&#10;  end&#10;&#10;  event avance_center_to_transit extends avance_center_to_transit&#10;    any rail_value light_color&#10;    where&#10;      @grd8 transit_to_center(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 transit_to_center(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 transit_to_center(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;    then&#10;      @act4 rail(10) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {14 ↦ light_color, 26 ↦ light_color}&#10;  end&#10;&#10;  event avance_transit_to_S extends avance_transit_to_S&#10;    any rail_value light_color&#10;    where&#10;      @grd8 transit_to_S(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd9 transit_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 transit_to_S(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;    then&#10;      @act4 rail(11) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {22 ↦ light_color, 27 ↦ light_color}&#10;  end&#10;&#10;  event avance_S_to_transit extends avance_S_to_transit&#10;    any rail_value light_color&#10;    where&#10;      @grd8 transit_to_S(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 transit_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 transit_to_S(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;    then&#10;      @act4 rail(11) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {22 ↦ light_color, 27 ↦ light_color}&#10;  end&#10;&#10;  event avance_center_to_S extends avance_center_to_S&#10;    any rail_value light_color&#10;    where&#10;      @grd8 center_to_S(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd9 center_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 center_to_S(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;    then&#10;      @act4 rail(8) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {15 ↦ light_color, 21 ↦ light_color}&#10;  end&#10;&#10;  event avance_S_to_center extends avance_S_to_center&#10;    any rail_value light_color&#10;    where&#10;      @grd8 center_to_S(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 center_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 center_to_S(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;    then&#10;      @act4 rail(8) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {15 ↦ light_color, 21 ↦ light_color}&#10;  end&#10;&#10;  event avance_NE_to_S extends avance_NE_to_S&#10;    any rail_value light_color&#10;    where&#10;      @grd8 NE_to_S(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd9 NE_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 NE_to_S(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;    then&#10;      @act4 rail(4) ≔ rail_value&#10;      @act6 Traffic_light_station ≔ Traffic_light_station  {19 ↦ light_color, 20 ↦ light_color}&#10;  end&#10;&#10;  event in_out_station1 // Swap the value of the station and the railway&#10;  extends in_out_station1&#10;    any rail_value light_color secondary_lights&#10;    where&#10;      @grd8 (secondary_occupancy(station1) = NOTHING ∧ NW_to_NE(1) = NOTHING) ∧ NW_to_NE(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 secondary_occupancy(station1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 secondary_occupancy(station1) = NOTHING ∧ (NW_to_NE(1) ≠ NOTHING ∨ NW_to_NE(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd11 secondary_occupancy(station1) = NOTHING ⇒ secondary_lights = red // When the event happens, the lights will change according to the new state of occupation&#10;      @grd12 secondary_occupancy(station1) ≠ NOTHING ⇒ secondary_lights = green&#10;    then&#10;      @act4 rail(1) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {1 ↦ secondary_lights, 9 ↦ light_color, 17 ↦ light_color}&#10;  end&#10;&#10;  event in_out_station2 // Swap the value of the station and the railway&#10;  extends in_out_station2&#10;    any rail_value light_color secondary_lights&#10;    where&#10;      @grd8 (secondary_occupancy(station2) = NOTHING ∧ NW_to_center(1) = NOTHING) ∧ NW_to_center(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 secondary_occupancy(station2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 secondary_occupancy(station2) = NOTHING ∧ (NW_to_center(1) ≠ NOTHING ∨ NW_to_center(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd11 secondary_occupancy(station2) = NOTHING ⇒ secondary_lights = red // When the event happens, the light will change according to the new state of occupation&#10;      @grd12 secondary_occupancy(station2) ≠ NOTHING ⇒ secondary_lights = green&#10;    then&#10;      @act4 rail(2) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {2 ↦ secondary_lights, 10 ↦ light_color, 13 ↦ light_color}&#10;  end&#10;&#10;  event in_out_station3 // Swap the value of the station and the railway&#10;  extends in_out_station3&#10;    any rail_value light_color secondary_lights&#10;    where&#10;      @grd8 (secondary_occupancy(station3) = NOTHING ∧ center_to_NE(1) = NOTHING) ∧ center_to_NE(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 secondary_occupancy(station3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 secondary_occupancy(station3) = NOTHING ∧ (center_to_NE(1) ≠ NOTHING ∨ center_to_NE(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd11 secondary_occupancy(station3) = NOTHING ⇒ secondary_lights = red // When the event happens, the light will change according to the new state of occupation&#10;      @grd12 secondary_occupancy(station3) ≠ NOTHING ⇒ secondary_lights = green&#10;    then&#10;      @act4 rail(3) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {3 ↦ secondary_lights, 16 ↦ light_color, 18 ↦ light_color}&#10;  end&#10;&#10;  event in_out_station4 // Swap the value of the station and the railway&#10;  extends in_out_station4&#10;    any rail_value light_color secondary_lights&#10;    where&#10;      @grd8 (secondary_occupancy(station4) = NOTHING ∧ NE_to_S(1) = NOTHING) ∧ NE_to_S(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 secondary_occupancy(station4) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 secondary_occupancy(station4) = NOTHING ∧ (NE_to_S(1) ≠ NOTHING ∨ NE_to_S(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd11 secondary_occupancy(station4) = NOTHING ⇒ secondary_lights = red // When the event happens, the light will change according to the new state of occupation&#10;      @grd12 secondary_occupancy(station4) ≠ NOTHING ⇒ secondary_lights = green&#10;    then&#10;      @act4 rail(4) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {4 ↦ secondary_lights, 19 ↦ light_color, 20 ↦ light_color}&#10;  end&#10;&#10;  event in_out_station5 // Swap the value of the station and the railway&#10;  extends in_out_station5&#10;    any rail_value light_color secondary_lights&#10;    where&#10;      @grd8 (secondary_occupancy(station5) = NOTHING ∧ S_to_SE(1) = NOTHING) ∧ S_to_SE(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 secondary_occupancy(station5) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 secondary_occupancy(station5) = NOTHING ∧ (S_to_SE(1) ≠ NOTHING ∨ S_to_SE(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd11 secondary_occupancy(station5) = NOTHING ⇒ secondary_lights = red // When the event happens, the light will change according to the new state of occupation&#10;      @grd12 secondary_occupancy(station5) ≠ NOTHING ⇒ secondary_lights = green&#10;    then&#10;      @act4 rail(5) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {5 ↦ secondary_lights, 24 ↦ light_color, 25 ↦ light_color}&#10;  end&#10;&#10;  event in_out_station6 // Swap the value of the station and the railway&#10;  extends in_out_station6&#10;    any rail_value light_color secondary_lights&#10;    where&#10;      @grd8 (secondary_occupancy(station6) = NOTHING ∧ SW_to_S(1) = NOTHING) ∧ SW_to_S(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 secondary_occupancy(station6) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 secondary_occupancy(station6) = NOTHING ∧ (SW_to_S(1) ≠ NOTHING ∨ SW_to_S(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd11 secondary_occupancy(station6) = NOTHING ⇒ secondary_lights = red // When the event happens, the light will change according to the new state of occupation&#10;      @grd12 secondary_occupancy(station6) ≠ NOTHING ⇒ secondary_lights = green&#10;    then&#10;      @act4 rail(1) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {6 ↦ secondary_lights, 23 ↦ light_color, 31 ↦ light_color}&#10;  end&#10;&#10;  event in_out_station7 // Swap the value of the station and the railway&#10;  extends in_out_station7&#10;    any rail_value light_color secondary_lights&#10;    where&#10;      @grd8 (secondary_occupancy(station7) = NOTHING ∧ NW_to_SW(1) = NOTHING) ∧ NW_to_SW(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 secondary_occupancy(station7) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 secondary_occupancy(station7) = NOTHING ∧ (NW_to_SW(1) ≠ NOTHING ∨ NW_to_SW(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd11 secondary_occupancy(station7) = NOTHING ⇒ secondary_lights = red // When the event happens, the light will change according to the new state of occupation&#10;      @grd12 secondary_occupancy(station7) ≠ NOTHING ⇒ secondary_lights = green&#10;    then&#10;      @act4 rail(7) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {7 ↦ secondary_lights, 11 ↦ light_color, 30 ↦ light_color}&#10;  end&#10;&#10;  event in_out_station8 // Swap the value of the station and the railway&#10;  extends in_out_station8&#10;    any rail_value light_color secondary_lights&#10;    where&#10;      @grd8 (secondary_occupancy(station8) = NOTHING ∧ center_to_S(1) = NOTHING) ∧ center_to_S(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)&#10;      @grd9 secondary_occupancy(station8) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd10 secondary_occupancy(station7) = NOTHING ∧ (center_to_S(1) ≠ NOTHING ∨ center_to_S(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)&#10;      @grd11 secondary_occupancy(station8) = NOTHING ⇒ secondary_lights = red // When the event happens, the light will change according to the new state of occupation&#10;      @grd12 secondary_occupancy(station8) ≠ NOTHING ⇒ secondary_lights = green&#10;    then&#10;      @act4 rail(8) ≔ rail_value&#10;      @act5 Traffic_light_station ≔ Traffic_light_station  {8 ↦ secondary_lights, 15 ↦ light_color, 21 ↦ light_color}&#10;  end&#10;end&#10;" version="5">
    <org.eventb.core.refinesMachine name="'" org.eventb.core.target="InitialeMachine"/>
    <org.eventb.core.seesContext name="(" org.eventb.core.target="Train"/>
    <org.eventb.core.seesContext name="e" org.eventb.core.target="Station"/>
    <org.eventb.core.variable name=")" org.eventb.core.comment="Has 1 secondary" org.eventb.core.generated="false" org.eventb.core.identifier="NW_to_NE"/>
    <org.eventb.core.variable name="*" org.eventb.core.comment="Has 1 secondary" org.eventb.core.generated="false" org.eventb.core.identifier="NW_to_center"/>
    <org.eventb.core.variable name="+" org.eventb.core.comment="Has 1 secondary" org.eventb.core.generated="false" org.eventb.core.identifier="NW_to_SW"/>
    <org.eventb.core.variable name="-" org.eventb.core.comment="/" org.eventb.core.generated="false" org.eventb.core.identifier="SW_to_transit"/>
    <org.eventb.core.variable name="." org.eventb.core.comment="Has 1 secondary" org.eventb.core.generated="false" org.eventb.core.identifier="SW_to_S"/>
    <org.eventb.core.variable name="/" org.eventb.core.comment="Has 1 secondary" org.eventb.core.generated="false" org.eventb.core.identifier="center_to_NE"/>
    <org.eventb.core.variable name="2" org.eventb.core.comment="/" org.eventb.core.generated="false" org.eventb.core.identifier="transit_to_center"/>
    <org.eventb.core.variable name="3" org.eventb.core.comment="Has 1 secondary" org.eventb.core.generated="false" org.eventb.core.identifier="S_to_SE"/>
    <org.eventb.core.variable name="4" org.eventb.core.comment="Has 1 secondary" org.eventb.core.generated="false" org.eventb.core.identifier="center_to_S"/>
    <org.eventb.core.variable name="5" org.eventb.core.comment="/" org.eventb.core.generated="false" org.eventb.core.identifier="transit_to_S"/>
    <org.eventb.core.variable name="6" org.eventb.core.comment="Has 1 secondary" org.eventb.core.generated="false" org.eventb.core.identifier="NE_to_S"/>
    <org.eventb.core.variable name="i" org.eventb.core.generated="false" org.eventb.core.identifier="station_occupancy"/>
    <org.eventb.core.variable name="k" org.eventb.core.generated="false" org.eventb.core.identifier="number_train"/>
    <org.eventb.core.variable name="_vWSvU9llEe2CNbglQzX26D" org.eventb.core.generated="false" org.eventb.core.identifier="secondary_occupancy"/>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26E" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="INITIALISATION">
        <org.eventb.core.action name="_kKyXUN0iEe2bX7zSSwUldg" org.eventb.core.assignment="rail ≔ {i·i ∈ 1‥11 ∣ i↦ NOTRAIN}" org.eventb.core.generated="false" org.eventb.core.label="act34"/>
        <org.eventb.core.action name="_kKyXUd0iEe2bX7zSSwUldg" org.eventb.core.assignment="Traffic_light_station ≔ {i·i ∈ 1‥31 ∣ i↦green }" org.eventb.core.generated="false" org.eventb.core.label="act35"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26F" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="spawn_train">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="spawn_train"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26G" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="NW_to_SW_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="NW_to_SW_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥6∣i↦rail(i)}∪{7↦BUSY}∪{i·i ∈ 8‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.parameter name=")" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="," org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {11 ↦ light_color, 30 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
        <org.eventb.core.guard name="-" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(11) = green ∧ (NW_to_SW = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="," org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(11) = red ⇒ light_color = red"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26H" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="SW_to_NW_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="SW_to_NW_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥6∣i↦rail(i)}∪{7↦BUSY}∪{i·i ∈ 8‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_l7i3QN63Ee2hJcGBLtFX6R" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name=")" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(30) = green ∧ (NW_to_SW = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.action name="_T_gMAN8FEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {11 ↦ light_color, 30 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
        <org.eventb.core.guard name="_H81dQd62Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(30) = red ⇒ light_color = red"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26I" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="NW_to_NE_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="NW_to_NE_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {1↦BUSY}∪{i·i ∈ 2‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_T_pV8N8FEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_8KTN4N62Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(9) = green ∧ (NW_to_NE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_8KVDEt62Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(9) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_6AluwN8LEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {9 ↦ light_color, 17 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26J" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="NE_to_NW_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="NE_to_NW_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {1↦BUSY}∪{i·i ∈ 2‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_zdgD8N8FEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_8KVDEd62Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(17) = green ∧ (NW_to_NE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_8KWRMN62Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(17) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_-8zKEN8LEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {9 ↦ light_color, 17 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26K" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="NW_to_center_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="NW_to_center_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {1↦rail(1)}∪{2↦BUSY}∪{i·i ∈3‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_6AtDgN8LEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_l7i3QN63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(10) = green ∧ (NW_to_center = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_l7kFYN63Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(10) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_hQLzYN8PEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {10 ↦ light_color, 13 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26L" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="center_to_NW_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="center_to_NW_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {1↦rail(1)}∪{2↦BUSY}∪{i·i ∈3‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_-86e0N8LEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_l7udcd63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(13) = green ∧ (NW_to_center = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_l7vEgN63Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(13) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_5XDswN8PEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {10 ↦ light_color, 13 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26M" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="SW_to_transit_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="SW_to_transit_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥8∣i↦rail(i)}∪{9↦BUSY}∪{i·i ∈ 10‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_USmC8N8MEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_6zv1Md63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(28) = green ∧ (SW_to_transit = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_6zwcQN63Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(28) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_5XET0N8PEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {28 ↦ light_color, 29 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26N" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="transit_to_SW_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="transit_to_SW_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥8∣i↦rail(i)}∪{9↦BUSY}∪{i·i ∈ 10‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_b_oAEN8MEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_6z4_Id63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(29) = green ∧ (SW_to_transit = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_6z4_It63Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(29) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_5XE64N8PEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {28 ↦ light_color, 29 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26O" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="transit_to_center_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="transit_to_center_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥9∣i↦rail(i)}∪{10↦BUSY}∪{11↦rail(11)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_C7UYoN8NEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_Tyi1EN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(14) = green ∧ (transit_to_center = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_Tyi1Ed64Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(14) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_9_AIQN8PEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {14 ↦ light_color, 26 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26P" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="center_to_transit_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="center_to_transit_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥9∣i↦rail(i)}∪{10↦BUSY}∪{11↦rail(11)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_aPozsN8NEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_TykDMd64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(26) = green ∧ (transit_to_center = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_TykDMt64Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(26) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_L35KsN8QEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {14 ↦ light_color, 26 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26Q" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="center_to_NE_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="center_to_NE_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥2∣i↦rail(i)}∪{3↦BUSY}∪{i·i ∈ 4‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_i-9UQN8NEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_TylRUd64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(16) = green ∧ (center_to_NE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_TylRUt64Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(16) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_WnT6wN8QEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {16 ↦ light_color, 18 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26R" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="NE_to_center_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="NE_to_center_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥2∣i↦rail(i)}∪{3↦BUSY}∪{i·i ∈ 4‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_nSXqMN8NEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_TysmEd64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(18) = green ∧ (center_to_NE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_TysmEt64Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(18) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_WnUh0N8QEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {16 ↦ light_color, 18 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26S" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="NE_to_S_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="NE_to_S_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥3∣i↦rail(i)}∪{4↦BUSY}∪{i·i ∈ 5‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_7MFmoN8NEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_3nMkMd64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(19) = green ∧ (NE_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_3nMkMt64Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(19) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_dXHaoN8QEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {19 ↦ light_color, 20 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26T" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="S_to_NE_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="S_to_NE_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥3∣i↦rail(i)}∪{4↦BUSY}∪{i·i ∈ 5‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_Bx6rIN8OEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_3nOZYd64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(20) = green ∧ (NE_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_3nOZYt64Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(20) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_g-r-QN8QEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {19 ↦ light_color, 20 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26U" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="S_to_SE_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="S_to_SE_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥4∣i↦rail(i)}∪{5↦BUSY}∪{i·i ∈ 6‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_IHK9AN8OEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_3nPngd64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(24) = green ∧ (S_to_SE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_3nPngt64Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(24) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_tAY1kN8QEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {24 ↦ light_color, 25 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26V" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="SE_to_S_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="SE_to_S_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥4∣i↦rail(i)}∪{5↦BUSY}∪{i·i ∈ 6‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_NjgC0N8OEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_3nUgAN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(25) = green ∧ (S_to_SE = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_3nUgAd64Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(25) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_tAZcoN8QEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {24 ↦ light_color, 25 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26W" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="center_to_S_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="center_to_S_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥7∣i↦rail(i)}∪{8↦BUSY}∪{i·i ∈ 9‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_hQhxoN8PEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_QWHVAd65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(15) = green ∧ (center_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_QWH8EN65Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(15) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_36RwQN8QEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {15 ↦ light_color, 21 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26X" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="S_to_center_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="S_to_center_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥7∣i↦rail(i)}∪{8↦BUSY}∪{i·i ∈ 9‥11 ∣ i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_5XaSEN8PEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_QWIjId65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(21) = green ∧ (center_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_QWJKMN65Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(21) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_6ja8wN8QEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {15 ↦ light_color, 21 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26Y" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="transit_to_S_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="transit_to_S_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥10∣i↦rail(i)}∪{11↦BUSY}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_5Xa5Id8PEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_QWJxQd65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(27) = green ∧ (transit_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_QWKYUN65Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(27) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_DbBPkN8REe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {22 ↦ light_color, 27 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26Z" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="S_to_transit_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="S_to_transit_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥10∣i↦rail(i)}∪{11↦BUSY}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_5XbgMN8PEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_QWMNgd65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(22) = green ∧ (transit_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_QWM0kN65Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(22) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_GgP7IN8REe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {22 ↦ light_color, 27 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26[" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="SW_to_S_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="SW_to_S_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥5∣i↦rail(i)}∪{6↦BUSY}∪{i·i∈7‥11∣i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_9_WGgt8PEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_kLPFUd65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(31) = green ∧ (SW_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_kLPFUt65Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(31) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_Mc-_UN8REe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {23 ↦ light_color, 31 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26\" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="S_to_SW_railway">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="S_to_SW_railway"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail ≔ {i·i∈1‥5∣i↦rail(i)}∪{6↦BUSY}∪{i·i∈7‥11∣i↦rail(i)}" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
        <org.eventb.core.parameter name="_L4PI8N8QEe2Q5urLSfLRhw" org.eventb.core.comment="Must not be used by the user" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_kLQTcd65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(Traffic_light_station(23) = green ∧ (SW_to_S = {1↦NOTHING, 2↦NOTHING, 3↦NOTHING}))⇒ light_color = red"/>
        <org.eventb.core.guard name="_kLQ6gN65Ee2hJcGBLtFX6Q" org.eventb.core.comment="In case the driver doesn't respect traffic lights" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="Traffic_light_station(23) = red ⇒ light_color = red"/>
        <org.eventb.core.action name="_UbOoQN8REe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {23 ↦ light_color, 31 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26]" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_S_to_NE">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_S_to_NE"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(4) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="*" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_Utfvgd66Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="NE_to_S(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.guard name="_Utfvgt66Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="NE_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="-" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="NE_to_S(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.action name="_l7i3QN63Ee2hJcGBLtFX6U" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {19 ↦ light_color, 20 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.parameter name="_Wnoq4N8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26^" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_S_to_SE">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_S_to_SE"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(5) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_H81dQN62Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_CzOs4d67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="S_to_SE(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_CzOs4t67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="S_to_SE(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_H81dQt62Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="S_to_SE(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.action name="_xHUPsN8FEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {24 ↦ light_color, 25 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.parameter name="_WnpR8N8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26_" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_SE_to_S">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_SE_to_S"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(5) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_8KVDEN62Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_CzP7Ad67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="S_to_SE(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.guard name="_CzP7At67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="S_to_SE(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_8KVqIN62Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="S_to_SE(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.action name="_USmC8d8MEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {24 ↦ light_color, 25 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.parameter name="_dXcKwt8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26`" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_NW_to_SW">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_NW_to_SW"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(7) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_8KW4QN62Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_CzRJId67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="NW_to_SW(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_CzRJIt67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="NW_to_SW(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_8KWRMd62Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="NW_to_SW(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.action name="_b_onIN8MEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {11 ↦ light_color, 30 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.parameter name="_g_AuYt8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26a" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_SW_to_NW">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_SW_to_NW"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(7) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.guard name="_CzS-UN67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="NW_to_SW(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.guard name="_l7kscN63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="NW_to_SW(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_H81dQ962Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd11" org.eventb.core.predicate="NW_to_SW(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.parameter name="_l7lTgN63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.action name="_JL7bEN8NEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {11 ↦ light_color, 30 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.parameter name="_tAsXkN8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26b" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_SW_to_transit">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_SW_to_transit"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(9) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_l7udcN63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_CzSXQd67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="SW_to_transit(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_CzUMcN67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="SW_to_transit(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_l7vEgd63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="SW_to_transit(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_tAs-oN8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_YLB3oN8NEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {28 ↦ light_color, 29 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26c" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_transit_to_SW">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_transit_to_SW"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(9) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_6zv1MN63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_CzTlYd67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="SW_to_transit(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.guard name="_CzUzgt67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="SW_to_transit(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_6zwcQd63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="SW_to_transit(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.action name="_i-9UQd8NEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {28 ↦ light_color, 29 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.parameter name="_36l5UN8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26d" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_SW_to_S">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_SW_to_S"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(6) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_6z4_IN63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_CzUzgd67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="SW_to_S(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_CzWBot67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="SW_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_6z5mMN63Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="SW_to_S(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.action name="_0tSXMN8NEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {23 ↦ light_color, 31 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.parameter name="_6jvF0d8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26e" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_S_to_SW">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_S_to_SW"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(6) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_TyiOAN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_CzWBod67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="SW_to_S(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.guard name="_L9H0gN8GEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="SW_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_Tyi1Et64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="SW_to_S(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.action name="_7MFmod8NEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {23 ↦ light_color, 31 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.parameter name="_DbUxkt8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26f" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_NW_to_center">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_NW_to_center"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(2) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_TykDMN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_T_50oN8FEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="NW_to_center(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_ApwNYN8HEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="NW_to_center(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_TykqQN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="NW_to_center(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_GgkEMd8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_Bx6rId8OEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {10 ↦ light_color, 13 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26g" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_center_to_NW">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_center_to_NW"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(2) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_TylRUN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_6A87IN8LEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="NW_to_center(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.guard name="_6A87Id8LEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="NW_to_center(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_Tyl4YN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="NW_to_center(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.parameter name="_MdR6Qt8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_IHK9Ad8OEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {10 ↦ light_color, 13 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26h" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_NW_to_NE">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_NW_to_NE"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(1) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_TysmEN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_-9JIUN8LEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="NW_to_NE(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.parameter name="_UbhjMt8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_rYpmQN8REe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {9 ↦ light_color, 17 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.guard name="_hQhKkd8PEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="NW_to_NE(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_3nNLQN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="NW_to_NE(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26i" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_NE_to_NW">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_NE_to_NW"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(1) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_3nMkMN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_hQhKkN8PEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="NW_to_NE(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_rYqNUN8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_Hm6LwN8SEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {9 ↦ light_color, 17 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.guard name="_5XZrAd8PEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="NW_to_NE(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_3nPAcN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="NW_to_NE(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26j" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_center_to_NE">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_center_to_NE"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(3) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_3nOZYN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_5XZrAN8PEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="NW_to_center(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.parameter name="_I063AN8SEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_Hm6y0N8SEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {16 ↦ light_color, 18 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.guard name="_5Xa5IN8PEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="NW_to_center(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_3nQOkN64Ee2hJcGBLtFX6Q" org.eventb.core.comment="The train will get out of the railway" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="NW_to_center(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26k" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_NE_to_center">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_NE_to_center"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(3) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_3nPngN64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_5XaSEd8PEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="center_to_NE(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_MJ-uUN8SEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_XoFwYd8SEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {16 ↦ light_color, 18 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.guard name="_5Xa5I98PEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="center_to_NE(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_3nUgAt64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="center_to_NE(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26l" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_transit_to_center">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_transit_to_center"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(10) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_3nT48N64Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_5Xa5It8PEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="transit_to_center(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.parameter name="_XoFwYN8SEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_j41wUN8SEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {14 ↦ light_color, 26 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.guard name="_9_WGgd8PEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="transit_to_center(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_QWH8Ed65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="transit_to_center(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26m" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_center_to_transit">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_center_to_transit"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(10) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_QWHVAN65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_9_WGgN8PEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="transit_to_center(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_XoGXcN8SEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_j42XYN8SEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {14 ↦ light_color, 26 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.guard name="_L4Oh4d8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="transit_to_center(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_QWJKMd65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="transit_to_center(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26n" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_transit_to_S">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_transit_to_S"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(11) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_QWIjIN65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_L4Oh4N8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="transit_to_S(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.parameter name="_mhDvwN8SEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_a5AcoN8UEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {22 ↦ light_color, 27 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.guard name="_WnoD0d8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="transit_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_QWKYUd65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="transit_to_S(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26o" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_S_to_transit">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_S_to_transit"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(11) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_QWJxQN65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_WnoD0N8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="transit_to_S(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_mhEW0N8SEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_3fcRkN8UEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {22 ↦ light_color, 27 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.guard name="_Wnoq4t8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="transit_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_QWM0kd65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="transit_to_S(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26p" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_center_to_S">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_center_to_S"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(8) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_QWMNgN65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_Wnoq4d8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="center_to_S(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.parameter name="_a5BDsN8UEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_3fc4oN8UEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {15 ↦ light_color, 21 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.guard name="_dXcKwd8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="center_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_kLPsYN65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="center_to_S(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26q" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_S_to_center">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_S_to_center"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(8) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_kLPFUN65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_dXcKwN8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="center_to_S(1) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_9_ca4N8UEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.action name="_3fdfsN8UEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {15 ↦ light_color, 21 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.guard name="_g_AuYd8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="center_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_Apr78N8HEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="center_to_S(3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26r" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="avance_NE_to_S">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="avance_NE_to_S"/>
        <org.eventb.core.action name="(" org.eventb.core.assignment="rail(4) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.parameter name="_kLQTcN65Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_g_AuYN8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="NE_to_S(1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.action name="_Hm1TQN8SEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {19 ↦ light_color, 20 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
        <org.eventb.core.parameter name="_9_dpAN8UEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.guard name="_tArwgd8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="NE_to_S(2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_UtgWkN66Ee2hJcGBLtFX6R" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="NE_to_S(3) ≠ NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26s" org.eventb.core.comment="Swap the value of the station and the railway" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="in_out_station1">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="in_out_station1"/>
        <org.eventb.core.parameter name="_UtfvgN66Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.action name="_UtgWkN66Ee2hJcGBLtFX6Q" org.eventb.core.assignment="rail(1) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.guard name="_tArwgN8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(secondary_occupancy(station1) = NOTHING ∧ NW_to_NE(1) = NOTHING) ∧ NW_to_NE(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_9_eQEN8UEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.parameter name="_tArwgd8QEe2Q5urLSfLRhx" org.eventb.core.generated="false" org.eventb.core.identifier="secondary_lights"/>
        <org.eventb.core.guard name="_tAsXkt8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="secondary_occupancy(station1) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_t6ApYN8JEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="secondary_occupancy(station1) = NOTHING ∧ (NW_to_NE(1) ≠ NOTHING ∨ NW_to_NE(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_tArwgd8QEe2Q5urLSfLRhy" org.eventb.core.comment="When the event happens, the lights will change according to the new state of occupation" org.eventb.core.generated="false" org.eventb.core.label="grd11" org.eventb.core.predicate="secondary_occupancy(station1) = NOTHING ⇒ secondary_lights = red"/>
        <org.eventb.core.guard name="_tArwgd8QEe2Q5urLSfLRhz" org.eventb.core.generated="false" org.eventb.core.label="grd12" org.eventb.core.predicate="secondary_occupancy(station1) ≠ NOTHING ⇒ secondary_lights = green"/>
        <org.eventb.core.action name="_3feGwN8UEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {1 ↦ secondary_lights, 9 ↦ light_color, 17 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26t" org.eventb.core.comment="Swap the value of the station and the railway" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="in_out_station2">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="in_out_station2"/>
        <org.eventb.core.parameter name="_CzOs4N67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.action name="_CzPT8N67Ee2hJcGBLtFX6Q" org.eventb.core.assignment="rail(2) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.guard name="_tAsXkd8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(secondary_occupancy(station2) = NOTHING ∧ NW_to_center(1) = NOTHING) ∧ NW_to_center(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_9_e3IN8UEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.parameter name="_xV-RkN8XEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.identifier="secondary_lights"/>
        <org.eventb.core.guard name="_36lSQd8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="secondary_occupancy(station2) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_t6BQcN8JEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="secondary_occupancy(station2) = NOTHING ∧ (NW_to_center(1) ≠ NOTHING ∨ NW_to_center(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_xV-Rkd8XEe28IujKpq_Qbg" org.eventb.core.comment="When the event happens, the light will change according to the new state of occupation" org.eventb.core.generated="false" org.eventb.core.label="grd11" org.eventb.core.predicate="secondary_occupancy(station2) = NOTHING ⇒ secondary_lights = red"/>
        <org.eventb.core.guard name="_xV-Rkt8XEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.label="grd12" org.eventb.core.predicate="secondary_occupancy(station2) ≠ NOTHING ⇒ secondary_lights = green"/>
        <org.eventb.core.action name="_3fet0N8UEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {2 ↦ secondary_lights, 10 ↦ light_color, 13 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26u" org.eventb.core.comment="Swap the value of the station and the railway" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="in_out_station3">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="in_out_station3"/>
        <org.eventb.core.parameter name="_CzP7AN67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.action name="_CzQiEN67Ee2hJcGBLtFX6Q" org.eventb.core.assignment="rail(3) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.guard name="_36lSQN8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(secondary_occupancy(station3) = NOTHING ∧ center_to_NE(1) = NOTHING) ∧ center_to_NE(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_9_feMN8UEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.parameter name="_xV-4oN8XEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.identifier="secondary_lights"/>
        <org.eventb.core.guard name="_6jvF0N8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="secondary_occupancy(station3) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_LN2W4N8KEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="secondary_occupancy(station3) = NOTHING ∧ (center_to_NE(1) ≠ NOTHING ∨ center_to_NE(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_xV_fsN8XEe28IujKpq_Qbg" org.eventb.core.comment="When the event happens, the light will change according to the new state of occupation" org.eventb.core.generated="false" org.eventb.core.label="grd11" org.eventb.core.predicate="secondary_occupancy(station3) = NOTHING ⇒ secondary_lights = red"/>
        <org.eventb.core.guard name="_xV_fsd8XEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.label="grd12" org.eventb.core.predicate="secondary_occupancy(station3) ≠ NOTHING ⇒ secondary_lights = green"/>
        <org.eventb.core.action name="_3ff78N8UEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {3 ↦ secondary_lights, 16 ↦ light_color, 18 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26v" org.eventb.core.comment="Swap the value of the station and the railway" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="in_out_station4">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="in_out_station4"/>
        <org.eventb.core.parameter name="_CzRJIN67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.action name="_CzRJI967Ee2hJcGBLtFX6Q" org.eventb.core.assignment="rail(4) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.guard name="_6juewN8QEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(secondary_occupancy(station4) = NOTHING ∧ NE_to_S(1) = NOTHING) ∧ NE_to_S(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_9_gFQN8UEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.parameter name="_xWAGwN8XEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.identifier="secondary_lights"/>
        <org.eventb.core.guard name="_DbUxkd8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="secondary_occupancy(station4) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_LN298N8KEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="secondary_occupancy(station4) = NOTHING ∧ (NE_to_S(1) ≠ NOTHING ∨ NE_to_S(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_xWAGwd8XEe28IujKpq_Qbg" org.eventb.core.comment="When the event happens, the light will change according to the new state of occupation" org.eventb.core.generated="false" org.eventb.core.label="grd11" org.eventb.core.predicate="secondary_occupancy(station4) = NOTHING ⇒ secondary_lights = red"/>
        <org.eventb.core.guard name="_xWAt0N8XEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.label="grd12" org.eventb.core.predicate="secondary_occupancy(station4) ≠ NOTHING ⇒ secondary_lights = green"/>
        <org.eventb.core.action name="_3fgjAN8UEe2Q5urLSfLRhw" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {4 ↦ secondary_lights, 19 ↦ light_color, 20 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26w" org.eventb.core.comment="Swap the value of the station and the railway" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="in_out_station5">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="in_out_station5"/>
        <org.eventb.core.parameter name="_CzSXQN67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.action name="_CzS-Ud67Ee2hJcGBLtFX6Q" org.eventb.core.assignment="rail(5) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.guard name="_DbUxkN8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(secondary_occupancy(station5) = NOTHING ∧ S_to_SE(1) = NOTHING) ∧ S_to_SE(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.parameter name="_9_gsUN8UEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.parameter name="_xWBU4N8XEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.identifier="secondary_lights"/>
        <org.eventb.core.guard name="_GgkEMN8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="secondary_occupancy(station5) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_LN3lAN8KEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="secondary_occupancy(station5) = NOTHING ∧ (S_to_SE(1) ≠ NOTHING ∨ S_to_SE(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_xWBU4d8XEe28IujKpq_Qbg" org.eventb.core.comment="When the event happens, the light will change according to the new state of occupation" org.eventb.core.generated="false" org.eventb.core.label="grd11" org.eventb.core.predicate="secondary_occupancy(station5) = NOTHING ⇒ secondary_lights = red"/>
        <org.eventb.core.guard name="_xWBU4t8XEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.label="grd12" org.eventb.core.predicate="secondary_occupancy(station5) ≠ NOTHING ⇒ secondary_lights = green"/>
        <org.eventb.core.action name="_RKWpMN8YEe28IujKpq_Qbg" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {5 ↦ secondary_lights, 24 ↦ light_color, 25 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26x" org.eventb.core.comment="Swap the value of the station and the railway" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="in_out_station6">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="in_out_station6"/>
        <org.eventb.core.parameter name="_CzTlYN67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.action name="_CzUMcd67Ee2hJcGBLtFX6Q" org.eventb.core.assignment="rail(1) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.guard name="_GgjdIN8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(secondary_occupancy(station6) = NOTHING ∧ SW_to_S(1) = NOTHING) ∧ SW_to_S(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.guard name="_MdR6Qd8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="secondary_occupancy(station6) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_LN4MEN8KEe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="secondary_occupancy(station6) = NOTHING ∧ (SW_to_S(1) ≠ NOTHING ∨ SW_to_S(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_F0GioN8YEe28IujKpq_Qbg" org.eventb.core.comment="When the event happens, the light will change according to the new state of occupation" org.eventb.core.generated="false" org.eventb.core.label="grd11" org.eventb.core.predicate="secondary_occupancy(station6) = NOTHING ⇒ secondary_lights = red"/>
        <org.eventb.core.guard name="_F0HJsN8YEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.label="grd12" org.eventb.core.predicate="secondary_occupancy(station6) ≠ NOTHING ⇒ secondary_lights = green"/>
        <org.eventb.core.parameter name="_oQrUIOCPEe2T-YkBmYXBYQ" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.parameter name="_UU4rgN8YEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.identifier="secondary_lights"/>
        <org.eventb.core.action name="_fIuRIOCPEe2T-YkBmYXBYQ" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {6 ↦ secondary_lights, 23 ↦ light_color, 31 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26y" org.eventb.core.comment="Swap the value of the station and the railway" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="in_out_station7">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="in_out_station7"/>
        <org.eventb.core.parameter name="_CzUzgN67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.action name="_CzVakN67Ee2hJcGBLtFX6Q" org.eventb.core.assignment="rail(7) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.guard name="_MdR6QN8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(secondary_occupancy(station7) = NOTHING ∧ NW_to_SW(1) = NOTHING) ∧ NW_to_SW(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.guard name="_0BfMcOITEe2qwcryIO1RVQ" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="secondary_occupancy(station7) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_0BfMceITEe2qwcryIO1RVQ" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="secondary_occupancy(station7) = NOTHING ∧ (NW_to_SW(1) ≠ NOTHING ∨ NW_to_SW(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_F0HwwN8YEe28IujKpq_Qbg" org.eventb.core.comment="When the event happens, the light will change according to the new state of occupation" org.eventb.core.generated="false" org.eventb.core.label="grd11" org.eventb.core.predicate="secondary_occupancy(station7) = NOTHING ⇒ secondary_lights = red"/>
        <org.eventb.core.guard name="_F0Hwwd8YEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.label="grd12" org.eventb.core.predicate="secondary_occupancy(station7) ≠ NOTHING ⇒ secondary_lights = green"/>
        <org.eventb.core.parameter name="_oQsiQOCPEe2T-YkBmYXBYQ" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.parameter name="_UU5SkN8YEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.identifier="secondary_lights"/>
        <org.eventb.core.action name="_oQsiQeCPEe2T-YkBmYXBYQ" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {7 ↦ secondary_lights, 11 ↦ light_color, 30 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_vWSvU9llEe2CNbglQzX26z" org.eventb.core.comment="Swap the value of the station and the railway" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="in_out_station8">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="in_out_station8"/>
        <org.eventb.core.parameter name="_CzWBoN67Ee2hJcGBLtFX6Q" org.eventb.core.generated="false" org.eventb.core.identifier="rail_value"/>
        <org.eventb.core.guard name="_UbhjMN8REe2Q5urLSfLRhw" org.eventb.core.generated="false" org.eventb.core.label="grd8" org.eventb.core.predicate="(secondary_occupancy(station8) = NOTHING ∧ center_to_S(1) = NOTHING) ∧ center_to_S(3) = NOTHING ⇒ (rail_value = NOTRAIN ∧ light_color = green)"/>
        <org.eventb.core.action name="_JL_FcN8NEe2Q5urLSfLRhw" org.eventb.core.assignment="rail(8) ≔ rail_value" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.guard name="_0BgakOITEe2qwcryIO1RVQ" org.eventb.core.generated="false" org.eventb.core.label="grd9" org.eventb.core.predicate="secondary_occupancy(station8) ≠ NOTHING ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_0BgakeITEe2qwcryIO1RVQ" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="secondary_occupancy(station7) = NOTHING ∧ (center_to_S(1) ≠ NOTHING ∨ center_to_S(3) ≠ NOTHING) ⇒ (rail_value = BUSY ∧ light_color = red)"/>
        <org.eventb.core.guard name="_RKWCIN8YEe28IujKpq_Qbg" org.eventb.core.comment="When the event happens, the light will change according to the new state of occupation" org.eventb.core.generated="false" org.eventb.core.label="grd11" org.eventb.core.predicate="secondary_occupancy(station8) = NOTHING ⇒ secondary_lights = red"/>
        <org.eventb.core.guard name="_RKWCId8YEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.label="grd12" org.eventb.core.predicate="secondary_occupancy(station8) ≠ NOTHING ⇒ secondary_lights = green"/>
        <org.eventb.core.parameter name="_tCA8MOCPEe2T-YkBmYXBYQ" org.eventb.core.generated="false" org.eventb.core.identifier="light_color"/>
        <org.eventb.core.parameter name="_UU6gsN8YEe28IujKpq_Qbg" org.eventb.core.generated="false" org.eventb.core.identifier="secondary_lights"/>
        <org.eventb.core.action name="_tCA8MeCPEe2T-YkBmYXBYQ" org.eventb.core.assignment="Traffic_light_station ≔ Traffic_light_station  {8 ↦ secondary_lights, 15 ↦ light_color, 21 ↦ light_color}" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
    </org.eventb.core.event>
    <org.eventb.core.variable name="_aT81Ed0iEe2bX7zSSwUldg" org.eventb.core.generated="false" org.eventb.core.identifier="Traffic_light_station"/>
    <org.eventb.core.invariant name="_c99kQN0iEe2bX7zSSwUldg" org.eventb.core.generated="false" org.eventb.core.label="inv1" org.eventb.core.predicate="rail ∈ (1‥11) → railway"/>
    <org.eventb.core.invariant name="_c9-LUN0iEe2bX7zSSwUldg" org.eventb.core.generated="false" org.eventb.core.label="inv2" org.eventb.core.predicate="Traffic_light_station ∈ (1‥31)→trafficlight"/>
    <org.eventb.core.variable name="_vWSvU9llEe2CNbglQzX26{" org.eventb.core.generated="false" org.eventb.core.identifier="rail"/>
</org.eventb.core.machineFile>
